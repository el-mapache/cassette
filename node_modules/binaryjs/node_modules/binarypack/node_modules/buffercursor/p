--- buffercursor.js	2012-08-25 22:34:41.000000000 -0400
+++ buffercursor.js	2012-12-23 19:15:27.000000000 -0500
@@ -65,7 +45,7 @@
 };
 
 BufferCursor.prototype.toByteArray = function(method) {
-  var arr = [], i, part;
+  var arr = [], i, part, count;
 
   if (!method) {
     method = 'readUInt8';
@@ -77,10 +57,11 @@
   else if (method.indexOf('32') > 0)
     part = 4;
 
+  count = this.length / part;
+
   for (i = 0; i < this.buffer.length; i += part) {
     arr.push(this.buffer[method](i));
   }
-
   return arr;
 };
 
@@ -91,7 +72,7 @@
 BufferCursor.prototype.slice = function(length) {
   var end, b;
 
-  if (!length) {
+  if (length === undefined) {
     end = this.length;
   } else {
     end = this._pos + length;
@@ -106,7 +87,7 @@
 BufferCursor.prototype.toString = function(encoding, length) {
   var end, ret;
 
-  if (!length) {
+  if (length === undefined) {
     end = this.length;
   } else {
     end = this._pos + length;
@@ -132,7 +113,7 @@
 BufferCursor.prototype.fill = function(value, length) {
   var end;
 
-  if (!length) {
+  if (length === undefined) {
     end = this.length;
   } else {
     end = this._pos + length;
